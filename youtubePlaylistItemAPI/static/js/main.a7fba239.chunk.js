(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(t,e,n){t.exports=n(38)},38:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),i=n(9),a=n.n(i),s=n(10),c=n(11),l=n(15),u=n(12),d=n(14),g=n(13),p=n(5),v=n(1),f=n(3),m={getPlaylistItemsStart:"getPlaylistItemsStart",getPlaylistItemsError:"getPlaylistItemsError",getPlaylistItemsSuccess:"getPlaylistItemsSuccess"},b={KEY:"AIzaSyB4WIdJ0izdg2Qbp0G0dVw4R6xY_nJpOR0"};function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:m.getPlaylistItemsError,payload:t}}var y={playlistActionCreators:{getPlaylistItems:function(t){var e=t.nextPageToken;return function(t){t(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:m.getPlaylistItemsStart,payload:t}}());var n="https://www.googleapis.com/youtube/v3/playlistItems";n+="?part=snippet",n+="&playlistId=RDEMtn0sHfPuCTd6JF5sYi_a9A",n+="&maxResults=10",e&&(n+="&pageToken="+e),n+="&key="+b.KEY,fetch(n,{method:"get"}).then(function(e){e.json().then(function(e){var n=e.items,o=e.nextPageToken,r=e.pageInfo;t(function(t){var e={items:t.items,pageInfo:t.pageInfo,nextPageToken:t.nextPageToken};return{type:m.getPlaylistItemsSuccess,payload:e}}({items:n,nextPageToken:o,pageInfo:r}))}).catch(function(e){t(h())})}).catch(function(e){t(h())})}}}},O=n(2);function j(){var t=Object(v.a)(["\n\tposition: relative;\n\tvertical-align: sub;\n\tdisplay: inline-block;\n\twidth: 20px;\n\theight: 20px;\n\tmargin: 0 auto;\n\tborder-width: 2px;\n\tborder-style: solid;\n\tborder-top-color: transparent;\n\tborder-left-color: transparent;\n\tborder-right-color: #f33;\n\tborder-bottom-color: #f33;\n\tborder-radius: 100%;\n\tanimation: "," 0.6s linear infinite;\n"]);return j=function(){return t},t}function w(){var t=Object(v.a)(["\n\twidth: 100%;\n\tpadding: 20px 0;\n\ttext-align: center;\n\tcolor: #666;\n\tfont-size: 14px;\n"]);return w=function(){return t},t}function E(){var t=Object(v.a)(["\n\tfont-size: 12px;\n"]);return E=function(){return t},t}function x(){var t=Object(v.a)(["\n\tfont-size: 20px;\n"]);return x=function(){return t},t}function P(){var t=Object(v.a)(["\n\twidth: 900px;\n"]);return P=function(){return t},t}function k(){var t=Object(v.a)(["\n\twidth: 280px;\n"]);return k=function(){return t},t}function I(){var t=Object(v.a)(["\n\twidth: 1200px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 20px;\n\tborder: 2px solid #333;\n\tpadding: 5px;\n"]);return I=function(){return t},t}function C(){var t=Object(v.a)(["\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\n\tto {\n\t\ttransform: rotate(360deg);\n\t}\n"]);return C=function(){return t},t}var S,M=Object(O.b)(C()),T=O.a.div(I()),R=O.a.iframe(k()),L=O.a.div(P()),N=O.a.h3(x()),_=O.a.p(E()),A=O.a.div(w()),B=O.a.div(j(),M),z=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).getMoreResult=n.getMoreResult.bind(Object(p.a)(n)),n.onScroll=n.onScroll.bind(Object(p.a)(n)),n.listContainer=r.a.createRef(),n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.playlistActinos.getPlaylistItems({}),window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"onScroll",value:function(t){var e=this.props,n=e.isLoading,o=e.isNoMore;n||o||!this.isBottom(this.listContainer)||this.getMoreResult()}},{key:"isBottom",value:function(t){return t.current.getBoundingClientRect().bottom<=window.innerHeight}},{key:"getMoreResult",value:function(){var t=this.props,e=t.nextPageToken,n=t.isLoading,o=t.isNoMore;n||o||this.props.playlistActinos.getPlaylistItems({nextPageToken:e})}},{key:"render",value:function(){var t=this.props,e=t.ids,n=t.videosCache,o=t.isLoading,i=t.isNoMore,a=t.isError;return r.a.createElement("div",{ref:this.listContainer},e.map(function(t,e){var o=n[t].snippet,i=o.title,a=o.description,s=o.resourceId.videoId;return r.a.createElement(T,{key:t},r.a.createElement(R,{src:"https://www.youtube.com/embed/".concat(s)}),r.a.createElement(L,null,r.a.createElement(N,null,i),r.a.createElement(_,null,a)))}),o?r.a.createElement(B,null):null,i?r.a.createElement(A,null,"\u6c92\u6709\u66f4\u591a\u8cc7\u6599\u4e86"):null,a?r.a.createElement(A,null,"\u51fa\u932f\u4e86"):null,r.a.createElement("button",{onClick:this.getMoreResult},"getMore"))}}]),e}(o.Component),J=Object(g.b)(function(t){return{ids:t.videos.ids,videosCache:t.videos.videosCache,isLoading:t.videos.isLoading,isError:t.videos.isError,nextPageToken:t.videos.nextPageToken,isNoMore:t.videos.isNoMore}},function(t){return{playlistActinos:Object(f.b)(y.playlistActionCreators,t)}},null)(z),D=n(25),W=n(8),Y=(S={},Object(W.a)(S,m.getPlaylistItemsStart,function(t,e){return K(t,e)}),Object(W.a)(S,m.getPlaylistItemsError,function(t,e){return H(t,e)}),Object(W.a)(S,m.getPlaylistItemsSuccess,function(t,e){return U(t,e)}),S),H=function(t,e){var n=t.videos,o=Object.assign({},n,{isLoading:!1,isError:!0});return Object.assign({},t,{videos:o})},K=function(t,e){var n=t.videos,o=Object.assign({},n,{isLoading:!0});return Object.assign({},t,{videos:o})},U=function(t,e){for(var n=e.payload,o=n.items,r=n.nextPageToken,i=n.pageInfo.totalResults,a=t.videos,s=a.ids,c=[],l=a.videosCache,u=0;u<o.length;u++)c.push(o[u].id),l=Object.assign({},l,Object(W.a)({},o[u].id,o[u]));var d=s.concat(c),g=Object.assign({},a,{ids:d,videosCache:l,nextPageToken:r,isNoMore:i===d.length,isLoading:!1,isError:!1});return Object.assign({},t,{videos:g})};var V={videos:{isLoading:!1,isError:!1,isNoMore:!1,nextPageToken:"",ids:[],videosCache:{}}},X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.c,F=Object(f.d)(function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;return Y.hasOwnProperty(n.type)?Y[n.type](e,n):e}}(V),V,X(Object(f.a)(D.a))),G=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(g.a,{store:F},r.a.createElement(J,null))}}]),e}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.a7fba239.chunk.js.map